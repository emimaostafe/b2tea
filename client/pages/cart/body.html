<div class="container">
    <div class="receipt">

        <div class="subtitle">Cart</div>
        <div class="section">
            <div class="add-to-cart"></div>
        </div>
        <div class="end-section">
            <div class="total">
                <div class="name">Total:</div>
            </div>
            <div class="total-price">78 lei</div>
        </div>
       <!-- <section>
            <div class="end-section">
                <div class="product">
                    <div class="name">Date and time</div>
                </div>
                <div class="price">10/04/2023</div>
                <div class="price">10:31</div>
            </div>
        </section>-->
        <section>
            <a href="/seating.php" class="pay-button" id="serveInButton">Serve In</a>
            <a href="/pay.php" class="pay-button" id="takeOutButton">Take Out</a>
        </section>
    </div>
</div>

<script src="../scripts/pay.js"></script>
<script>
    // Retrieve cart items from local storage
    const storedCartItems = localStorage.getItem('cartItems');
    const cartItems = storedCartItems ? JSON.parse(storedCartItems) : [];

    // Update the HTML with the cart items
    const addToCartContainer = document.querySelector('.add-to-cart');
    if (addToCartContainer) {
        addToCartContainer.innerHTML = cartItems
            .map((item) => `<div>${item.name} - ${item.price}</div>`)
            .join('');
    }

    const totalPriceElement = document.querySelector('.total-price');
    let totalPrice = 0;
    if (addToCartContainer) {
        addToCartContainer.innerHTML = cartItems
            .map((item) => {
                const itemPrice = parseFloat(item.price);
                totalPrice += itemPrice;
                return `<div>${item.name} - ${itemPrice} lei</div>`;
            })
            .join('');
    }
    if (totalPriceElement) {
        totalPriceElement.textContent = totalPrice + ' lei';
    }
    // Add event listener to "Pay Now" button
    const payNowButton = document.getElementById('payNowButton');
    payNowButton.addEventListener('click', function () {
        // Clear the cart items from local storage
        localStorage.removeItem('cartItems');

    });
</script>